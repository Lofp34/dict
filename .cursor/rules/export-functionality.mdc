# Fonctionnalit√© d'Export des Notes

## Contexte
L'application permet d'exporter l'int√©gralit√© du contenu d'une note (texte original, version enrichie par l'IA, suggestions et historique du chat) en format texte structur√©.

## Impl√©mentation

### Fonction d'Export
Dans [App.tsx](mdc:App.tsx), la fonction `handleExportNote` g√©n√®re un contenu structur√© :

```typescript
const handleExportNote = useCallback((note: SavedNote) => {
  // Construction du contenu export√© avec sections structur√©es
  let exportContent = '';
  
  // En-t√™te avec m√©tadonn√©es
  exportContent += `=== NOTE EXPORT√âE ===\n`;
  exportContent += `Titre: ${note.title}\n`;
  exportContent += `Date: ${note.timestamp.toLocaleString('fr-FR')}\n`;
  exportContent += `Type: ${note.type || 'note'}\n\n`;
  
  // Note originale dict√©e par l'utilisateur
  exportContent += `--- NOTE ORIGINALE ---\n`;
  exportContent += `${note.originalText}\n\n`;
  
  // Version enrichie par l'IA
  exportContent += `--- NOTE ENRICHIE PAR L'IA ---\n`;
  exportContent += `${note.structuredText}\n\n`;
  
  // Suggestions d'approfondissement
  exportContent += `--- SUGGESTIONS D'APPROFONDISSEMENT ---\n`;
  note.suggestions.forEach((suggestion, index) => {
    exportContent += `${index + 1}. ${suggestion}\n`;
  });
  
  // Historique complet du chat
  exportContent += `--- HISTORIQUE DU CHAT AVEC L'IA ---\n`;
  note.chatMessages.forEach((message) => {
    const timestamp = message.timestamp.toLocaleString('fr-FR');
    const role = message.isUser ? 'Utilisateur' : 'IA Gemini';
    exportContent += `[${timestamp}] ${role}:\n`;
    exportContent += `${message.content}\n\n`;
  });
  
  // Copie dans le presse-papiers
  navigator.clipboard.writeText(exportContent);
});
```

### Interface Utilisateur
- **Bouton d'export** : Ic√¥ne verte (fl√®che vers le bas) dans chaque note
- **Disponibilit√©** : Visible uniquement quand la note n'est plus en cours de traitement
- **Localisation** : Dans les cartes de notes et dans la modal de chat plein √©cran

### Format d'Export
Le contenu export√© est structur√© en sections claires :
1. **En-t√™te** : M√©tadonn√©es de la note (titre, date, type)
2. **Note originale** : Texte dict√© par l'utilisateur
3. **Note enrichie** : Version structur√©e par l'IA
4. **Suggestions** : Liste num√©rot√©e des suggestions d'approfondissement
5. **Chat** : Historique complet avec timestamps et r√¥les

### Utilisation
1. Cliquer sur l'ic√¥ne d'export (üîÑ) sur une note
2. Le contenu complet est copi√© dans le presse-papiers
3. Notification de confirmation affich√©e
4. Le contenu peut √™tre coll√© dans n'importe quel √©diteur de texte

## Avantages
- **Simplicit√©** : Une seule action pour exporter tout le contenu
- **Compl√©tude** : Inclut tous les √©l√©ments (original, enrichi, suggestions, chat)
- **Format lisible** : Structure claire avec sections d√©limit√©es
- **Compatibilit√©** : Format texte compatible avec tous les √©diteurs
description:
globs:
alwaysApply: false
---
